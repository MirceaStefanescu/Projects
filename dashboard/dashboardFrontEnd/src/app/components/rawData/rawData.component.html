<div class="d-flex align-items-center vh-100" *ngIf="isLoading">
  <div class="d-flex justify-content-center m-lg-5 w-100">
    <div class="text-success">
      <strong class="text-dark">Loading...</strong>
      <div class="spinner-border ms-5" role="status" aria-hidden="true"></div>
    </div>
  </div>
</div>

<div *ngIf="!isLoading">
  <h2>Row Data Table</h2>
</div>
<div class="col-12">
  <!-- Show the table if isLoading is false -->
  <div class="table-responsive">
    <table matSort (matSortChange)="sortData($event)" #sort="matSort" [matSortActive]="sort?.active ?? ''"
           [matSortDirection]="sort?.direction ?? 'asc'"
           *ngIf="!isLoading"
           class="table table-dark table-striped table-hover table-bordered border-primary">
      <thead class="table-dark">
      <tr>
        <th scope="col" mat-sort-header="id">Id</th>
        <th scope="col" mat-sort-header="end_year">End Year</th>
        <th scope="col" mat-sort-header="citylng">Citylng</th>
        <th scope="col" mat-sort-header="citylat">Citylat</th>
        <th scope="col" mat-sort-header="intensity">Intensity</th>
        <th scope="col" mat-sort-header="sector">Sector</th>
        <th scope="col" mat-sort-header="topic">Topic</th>
        <th scope="col" mat-sort-header="insight">Insight</th>
        <th scope="col" mat-sort-header="swot">Swot</th>
        <th scope="col" mat-sort-header="url">URL</th>
        <th scope="col" mat-sort-header="region">Region</th>
        <th scope="col" mat-sort-header="start_year">Start Year</th>
        <th scope="col" mat-sort-header="impact">Impact</th>
        <th scope="col" mat-sort-header="added">Added</th>
        <th scope="col" mat-sort-header="published">Published</th>
        <th scope="col" mat-sort-header="city">City</th>
        <th scope="col" mat-sort-header="country">Country</th>
        <th scope="col" mat-sort-header="relevance">Relevance</th>
        <th scope="col" mat-sort-header="pestle">Pestle</th>
        <th scope="col" mat-sort-header="source">Source</th>
        <th scope="col" mat-sort-header="title">Title</th>
        <th scope="col" mat-sort-header="likelihood">Likelihood</th>
      </tr>
      </thead>
      <tbody>
      <tr class="text-nowrap" *ngFor="let dashboard of pagedDashboards">
        <td>{{ dashboard.id }}</td>
        <td>{{ dashboard.endYear | date }}</td>
        <td>{{ dashboard.cityLng }}</td>
        <td>{{ dashboard.cityLat }}</td>
        <td>{{ dashboard.intensity }}</td>
        <td>{{ dashboard.sector }}</td>
        <td>{{ dashboard.city }}</td>
        <td>{{ dashboard.insight }}</td>
        <td>{{ dashboard.swot }}</td>
        <td>{{ dashboard.url }}</td>
        <td>{{ dashboard.region }}</td>
        <td>{{ dashboard.startYear | date }}</td>
        <td>{{ dashboard.impact }}</td>
        <td>{{ dashboard.added | date }}</td>
        <td>{{ dashboard.published | date }}</td>
        <td>{{ dashboard.city }}</td>
        <td>{{ dashboard.country }}</td>
        <td>{{ dashboard.relevance }}</td>
        <td>{{ dashboard.pestle }}</td>
        <td>{{ dashboard.source }}</td>
        <td>{{ dashboard.title }}</td>
        <td>{{ dashboard.likelihood }}</td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="input-group">
    <label for="pageSize" class="input-group-text">Size:</label>
    <button id="pageSize" class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
            aria-expanded="false">
      {{options.size}}
    </button>
    <ul class="dropdown-menu dropdown-menu-end">
      <li>
        <button class="dropdown-item" type="button" (click)="size(5)">5</button>
      </li>
      <li>
        <button class="dropdown-item" type="button" (click)="size(10)">10</button>
      </li>
      <li>
        <button class="dropdown-item" type="button" (click)="size(20)">20</button>
      </li>
      <li>
        <button class="dropdown-item" type="button" (click)="size(50)">50</button>
      </li>
      <li>
        <button class="dropdown-item" type="button" (click)="size(100)">100</button>
      </li>
    </ul>
  </div>

  <div class="button-container mb-4">
    <a href="/" class="btn btn-primary">Go to Main Page</a>
  </div>
</div>





